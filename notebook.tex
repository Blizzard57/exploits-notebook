%!TEX TS-options = --shell-escape
% CfAI Thesis template - prepared by Matthew Townson and Andrew Reeves, 2016

\documentclass[11pt, oneside, a4paper]{memoir}

% Packages for use in the thsis
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[a4paper,width=138mm,top=35mm,bottom=35mm,bindingoffset=10mm]{geometry}
\usepackage{url}
\usepackage{titlesec}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{rotating}
\usepackage{listings}
% \usepackage{gensymb}
\usepackage{pdflscape}
\usepackage{mathrsfs,amsmath}
\usepackage{units}
\usepackage{siunitx}
\usepackage{acronym}
\usepackage{booktabs}
\usepackage[UKenglish]{babel}
\usepackage{bibentry}
\usepackage{subcaption}
\usepackage{natbib}
\usepackage[export]{adjustbox}
% Bibliography Style

\bibliographystyle{abbrvnat}
\setcitestyle{authoryear,open={(},close={)}}
\usepackage{perpage}
\MakePerPage{footnote}
% \usepackage{minted}

\captionsetup[subfigure]{labelformat=simple}
\renewcommand\thesubfigure{\alph{subfigure})}


% Skip a line for new paragraph instead of indenting
\setlength{\parindent}{0pt}
\nonzeroparskip

\newsubfloat{figure}


%Define some useful aliases
\newcommand{\thesisTitle}{Exploitation}
\newcommand{\thesisSubtitle}{More like CTFs}
\newcommand{\thesisName}{Kalp Shah}
\newcommand{\thesisDate}{\today}
\newcommand{\thesisFirstSupervisor}{}
%\newcommand{\thesisSecondSupervisor}{Second Supervisor}
\newcommand{\thesisUniversity}{\protect{IIIT Hyderabad}}
%\newcommand{\thesisUniversityDepartment}{Department of Physics}
%\newcommand{\thesisUniversityInstitute}{Centre for Advanced Instrumentation}
\newcommand{\thesisUniversityCity}{Hyderabad}
%\newcommand{\thesisUniversityStreetAddress}{South Road}
%\newcommand{\thesisUniversityPostalCode}{DH1 3LE}


%to prefix appendix names with "Appendix"
\renewcommand*{\cftappendixname}{Appendix\space}

\renewcommand{\thefootnote}{\fnsymbol{footnote}}



\chapterstyle{madsen}



% Choice of line spacing (both valid)
% \OnehalfSpacing
\DoubleSpacing


\setsecnumdepth{subsection}


\nobibliography*


% Modify Headers
\makepagestyle{myruled}
\makeheadrule {myruled}{\textwidth}{\normalrulethickness}
\makefootrule {myruled}{\textwidth}{\normalrulethickness}{\footruleskip}
\makeevenhead {myruled}{}{\small\itshape\leftmark}{}
\makeoddhead {myruled}{}{\small\itshape\rightmark}{}
\makeevenfoot {myruled}{\small \thepage}{}{}
\makeoddfoot {myruled}{}{}{\small \thepage}

\makepsmarks {myruled}{
\nouppercaseheads
\createmark {chapter} {both} {shownumber}{}{. \ }
\createmark {section} {both}{shownumber}{} {. \ }
\createmark {subsection} {both}{shownumber}{} {. \ }
\createmark {subsubsection}{both}{shownumber}{} {. \ }
\createplainmark {toc} {both} {\texsname}
\createplainmark {lof} {both} {\listfigurename}
\createplainmark {lot} {both} {\listtablename}
\createplainmark {bib} {both} {\bibname}
\createplainmark {index} {both} {\indexname}
\createplainmark {glossary} {both} {\glossaryname}
}

\makepagestyle{plain}
\makefootrule {plain}{\textwidth}{\normalrulethickness}{\footruleskip}
\makeevenfoot {plain}{\small \thepage}{}{}
\makeoddfoot {plain}{}{}{\small \thepage}

\makepsmarks {plain}{
\nouppercaseheads
\createmark {chapter} {both} {shownumber}{}{. \ }
\createmark {section} {both}{shownumber}{} {. \ }
\createmark {subsection} {both}{shownumber}{} {. \ }
\createmark {subsubsection}{both}{shownumber}{} {. \ }
\createplainmark {toc} {both} {\texsname}
\createplainmark {lof} {both} {\listfigurename}
\createplainmark {lot} {both} {\listtablename}
\createplainmark {bib} {both} {\bibname}
\createplainmark {index} {both} {\indexname}
\createplainmark {glossary} {both} {\glossaryname}
}


\setsecnumdepth{subsubsection}
\pagestyle{myruled}


\begin{document}
\frontmatter
\include{tex/front_matter}

\newpage

\include{tex/basics}
\include{tex/tools}

\mainmatter

\pagestyle{myruled}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Include your chapters here!
\include{tex/chapter1} % INCLUDE: introduction
\include{tex/chapter2}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\cleardoublepage

\bibliography{thesis}

\input{tex/back_matter}

\end{document}
